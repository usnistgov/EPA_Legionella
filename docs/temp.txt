{
  "description": "EPA Legionella Project Data Path Configuration",
  "machine_name": "Laptop",
  "project_name": "Aerosol Emissions from Bathroom Fixtures",
  "data_root": "C:/Users/Nathan/Documents/NIST/EPA_Legionella",
  "last_updated": "2026-01-20",

  "instruments": {
    "AIO2": {
      "base_path": "MH DAQ/weather_station/2026",
      "file_template": "{date_str}-Daily_MHOutdoor_Data.txt",
      "file_pattern": "*Daily_MHOutdoor_Data.txt",
      "date_format": "%Y%m%d",
      "description": "Met One AIO 2 Sonic Weather Sensor - 10m MET Tower",
      "manufacturer": "Met One Instruments",
      "model": "AIO 2",
      "output": "RS-232, RS-485, SDI-12",
      "connection": "Serial (RS-232) - separate from cDAQ",
      "datetime_columns": ["Date", "Time"],
      "variables": [
        "Wind_Speed_m/s",
        "Wind_Direction_deg",
        "Ambient_Temperature_degC",
        "Relative_Humidity_%",
        "Barometric_Pressure_mb"
      ],
      "status": "ACTIVE",
      "specifications": {
        "wind_speed_range": "0-75 m/s (calibrated 0-60 m/s)",
        "wind_speed_accuracy": "±0.5 m/s or 5% of reading (whichever is greater)",
        "wind_speed_resolution": "0.1 m/s",
        "wind_direction_range": "0-360°",
        "wind_direction_accuracy": "±5° (including compass)",
        "wind_direction_resolution": "1.0°",
        "temperature_range": "-40°C to +60°C",
        "temperature_accuracy": "±0.2°C (0-60°C), ±0.5°C (-40-0°C)",
        "temperature_resolution": "0.1°C",
        "relative_humidity_range": "0-100%",
        "relative_humidity_accuracy": "±3% at 25°C",
        "relative_humidity_resolution": "1.0%",
        "barometric_pressure_range": "500-1100 hPa (mbar)",
        "barometric_pressure_accuracy": "±0.5 hPa at 25°C",
        "barometric_pressure_resolution": "0.1 hPa"
      },
      "notes": [
        "Sensor installed on a 10m MET Tower.",
        "Data logged via serial output at 1 Hz.",
        "Tab-delimited format with Date and Time columns.",
        "NOT connected to cDAQ - uses separate serial connection."
      ]
    },

    "Aranet4": {
      "base_path": "CO2",
      "file_template": "{location}_{export_timestamp}_week.xlsx",
      "file_pattern": "*_week.xlsx",
      "has_year_subdirs": false,
      "description": "Aranet4 PRO - Indoor Air Quality Sensor",
      "manufacturer": "SAF Tehnika",
      "model": "Aranet4 PRO",
      "output": "Wireless (Aranet Sub-GHz ISM band)",
      "connection": "Wireless to Aranet PRO base station",
      "locations": {
        "Bedroom": {
          "description": "Aranet4 sensor in bedroom",
          "file_pattern": "Bedroom_*_week.xlsx"
        },
        "Entry": {
          "description": "Aranet4 sensor at entry",
          "file_pattern": "Entry_*_week.xlsx"
        },
        "Mh Outside": {
          "description": "Aranet4 sensor outside manufactured home",
          "file_pattern": "Mh Outside_*_week.xlsx"
        }
      },
      "datetime_columns": ["Time(DD/MM/YYYY h:mm:ss A)"],
      "variables": ["Carbon dioxide(ppm)", "Temperature(°C)", "Relative humidity(%)", "Atmospheric pressure(hPa)"],
      "status": "ACTIVE",
      "specifications": {
        "co2_range": "0-9999 ppm",
        "co2_accuracy": "±(30 ppm + 3% of reading)",
        "co2_resolution": "1 ppm",
        "temperature_range": "0-50°C",
        "temperature_accuracy": "±0.3°C",
        "temperature_resolution": "0.1°C",
        "relative_humidity_range": "0-85%",
        "relative_humidity_accuracy": "±3%",
        "relative_humidity_resolution": "1%",
        "atmospheric_pressure_range": "600-1100 hPa",
        "atmospheric_pressure_accuracy": "+3 hPa / -2 hPa",
        "atmospheric_pressure_resolution": "1 hPa"
      },
      "notes": [
        "Wireless transmission to Aranet PRO base station.",
        "No year subdirectory structure.",
        "Weekly export files with export timestamp in filename.",
        "Three units deployed: Bedroom, Entry, and Mh Outside."
      ]
    },

    "QuantAQ_MODULAIR_PM": {
      "base_path": "QuantAQ",
      "file_template": "{date_str}-quantaq-{location}-processed.csv",
      "file_pattern": "*-quantaq-*-processed.csv",
      "date_format": "%Y%m%d",
      "has_year_subdirs": false,
      "description": "QuantAQ MODULAIR-PM Particulate Matter Sensor",
      "manufacturer": "QuantAQ",
      "model": "MODULAIR-PM",
      "output": "LTE/WiFi to QuantAQ Cloud, local SD card",
      "connection": "Internet-connected (API access)",
      "api_base_url": "https://api.quant-aq.com/v1",
      "locations": {
        "inside": {
          "description": "Indoor MODULAIR-PM sensor",
          "file_pattern": "*-quantaq-inside-processed.csv"
        },
        "outside": {
          "description": "Outdoor MODULAIR-PM sensor",
          "file_pattern": "*-quantaq-outside-processed.csv"
        }
      },
      "datetime_columns": ["timestamp_local", "timestamp"],
      "variables": {
        "metadata": ["sn", "operating_state", "flag"],
        "location": ["geo_lat", "geo_lon"],
        "environmental": ["met_rh", "met_temp"],
        "particle_count_neph": [
          "neph_bin0", "neph_bin1", "neph_bin2", "neph_bin3", "neph_bin4", "neph_bin5",
          "neph_pm1", "neph_pm2.5", "neph_pm10"
        ],
        "particle_count_opc": [
          "opc_bin0", "opc_bin1", "opc_bin2", "opc_bin3", "opc_bin4", "opc_bin5",
          "opc_bin6", "opc_bin7", "opc_bin8", "opc_bin9", "opc_bin10", "opc_bin11",
          "opc_bin12", "opc_bin13", "opc_bin14", "opc_bin15", "opc_bin16", "opc_bin17",
          "opc_bin18", "opc_bin19", "opc_bin20", "opc_bin21", "opc_bin22", "opc_bin23"
        ],
        "particulate_matter_opc": ["opc_pm1", "opc_pm2.5", "opc_pm10"],
        "internal_opc": ["opc_rh", "opc_temp"],
        "particulate_matter": ["final_pm1", "final_pm2.5", "final_pm10"]
      },
      "status": "ACTIVE",
      "specifications": {
        "pm1_range": "0-1000 µg/m³",
        "pm25_range": "0-1000 µg/m³",
        "pm10_range": "0-1000 µg/m³",
        "particle_size_range": "0.35-40 µm (24 bins from OPC-N3)",
        "sampling_interval": "5 seconds",
        "sensors": "Plantower PMS5003 (nephelometer) + Alphasense OPC-N3 (optical particle counter)",
        "data_types": ["raw", "final", "resampled"],
        "resampling_periods": ["15m", "1h", "8h", "1d"]
      },
      "api_config": {
        "env_var_api_key": "QUANTAQ_API_KEY",
        "data_endpoints": {
          "raw": "/devices/{sn}/data/raw/",
          "final": "/devices/{sn}/data/",
          "resampled": "/data/resampled/",
          "by_date": "/devices/{sn}/data-by-date/{date}/"
        }
      },
      "notes": [
        "Internet-connected sensor with cloud data access.",
        "Combines nephelometry with single-particle scattering.",
        "Temperature and RH measured inside flow cell (not true ambient).",
        "Requires QuantAQ Cloud subscription for API access.",
        "API key stored in environment variable or .env file.",
        "Two units deployed: one indoor (inside), one outdoor (outside)."
      ]
    },

    "Setra_264": {
      "base_path": "MH DAQ/indoor_daq/2026",
      "file_template": "{date_str}-Daily_MHIndoor_Data.txt",
      "file_pattern": "*Daily_MHIndoor_Data.txt",
      "date_format": "%Y%m%d",
      "description": "Setra Model 264 Very Low Differential Pressure Transducer",
      "manufacturer": "Setra Systems",
      "model": "Model 264",
      "measurement": "Differential Pressure",
      "output": "0-5 VDC",
      "excitation": "9-30 VDC",
      "daq_connection": "Module 1 (NI 9201) CH0-7, Module 2 (NI 9201) CH0-2",
      "datetime_columns": ["Date", "Time"],
      "variables": [
        "dP_Liv-Hi_M1_C0",
        "dP_Liv-Lo_M1_C1",
        "dP_Bed3-E-Hi_M1_C2",
        "dP_Bed3-E-Lo_M1_C3",
        "dP_Fam-S-Hi_M1_C4",
        "dP_Fam-S-Lo_M1_C5",
        "dP_Fam-W-Hi_M1_C6",
        "dP_Fam-W-Lo_M1_C7",
        "dP_Attic_M2_C0",
        "dP_Crawl-E_M2_C1",
        "dP_Crawl-W_M2_C2"
      ],
      "status": "DISCONNECTED",
      "specifications": {
        "accuracy": "±1% FS",
        "non_linearity": "±0.96% FS",
        "hysteresis": "0.10% FS",
        "long_term_stability": "0.5% FS/year",
        "compensated_range": "0 to +150°F (-18 to +65°C)",
        "overpressure": "Up to 10 PSI (range dependent)"
      },
      "notes": [
        "NOTE: All Setras currently disconnected (as of 12/31/25).",
        "Industry standard for low differential pressure in HVAC.",
        "Hi/Lo pairs measure across building envelope at multiple locations.",
        "3-year unconditional warranty."
      ]
    },

    "Vaisala_HMP155": {
      "base_path": "MH DAQ/indoor_daq/2026",
      "file_template": "{date_str}-Daily_MHIndoor_Data.txt",
      "file_pattern": "*Daily_MHIndoor_Data.txt",
      "date_format": "%Y%m%d",
      "description": "Vaisala HUMICAP HMP155 Humidity and Temperature Probe",
      "manufacturer": "Vaisala",
      "model": "HMP155",
      "measurement": ["Relative Humidity", "Temperature"],
      "output": "0-10 VDC",
      "excitation": "24 VDC",
      "daq_connection": "Module 3-5 (NI 9201)",
      "datetime_columns": ["Date", "Time"],
      "variables": {
        "relative_humidity": [
          "RH_Bed1_M3_C0",
          "RH_Liv_M3_C3",
          "RH_Fam_M3_C4",
          "RH_HVAC-S_M4_C3"
        ],
        "temperature": [
          "T_Bed1_M4_C4",
          "T_Liv_M4_C7",
          "T_Fam_M5_C0",
          "T_HVAC-S_M5_C7"
        ]
      },
      "serial_numbers": {
        "V1940952": {"location": "HVAC-S", "calibration_date": "2023-05-11"},
        "V1940953": {"location": "Liv", "calibration_date": "2023-05-11"},
        "V1940954": {"location": "Bed1", "calibration_date": "2023-05-11"},
        "V1940955": {"location": "Fam", "calibration_date": "2023-05-11"}
      },
      "status": "ACTIVE",
      "specifications": {
        "rh_range": "0-100% RH",
        "rh_accuracy_15_25C": "±1% RH (0-90% RH), ±1.7% RH (90-100% RH)",
        "rh_accuracy_-20_40C": "±(1.0 + 0.008 × reading) % RH",
        "rh_accuracy_-40_-20C": "±(1.2 + 0.012 × reading) % RH",
        "rh_accuracy_+40_+60C": "±(1.2 + 0.012 × reading) % RH",
        "rh_accuracy_-60_-40C": "±(1.4 + 0.032 × reading) % RH",
        "temp_range": "-80°C to +60°C",
        "temp_accuracy_-80_+20": "±(0.226 - 0.0027 x reading) °C",
        "temp_accuracy_+20_+60": "±(0.055 + 0.0057 x reading) °C"
      },
      "notes": [
        "Higher accuracy probes used at key monitoring locations.",
        "Recommended calibration interval: 1 year."
      ]
    },

    "Vaisala_HMP45A": {
      "base_path": "MH DAQ/indoor_daq/2026",
      "file_template": "{date_str}-Daily_MHIndoor_Data.txt",
      "file_pattern": "*Daily_MHIndoor_Data.txt",
      "date_format": "%Y%m%d",
      "description": "Vaisala HUMICAP HMP45A Humidity and Temperature Probe",
      "manufacturer": "Vaisala",
      "model": "HMP45A",
      "measurement": ["Relative Humidity", "Temperature"],
      "output": "0-1 VDC",
      "excitation": "7-35 VDC",
      "daq_connection": "Module 3-5 (NI 9201)",
      "datetime_columns": ["Date", "Time"],
      "variables": {
        "relative_humidity": [
          "RH_Bed2_M3_C1",
          "RH_Bed3_M3_C2",
          "RH_MBa_M3_C5",
          "RH_Ba1_M3_C6",
          "RH_UR_M3_C7",
          "RH_Gar_M4_C0",
          "RH_Attic_M4_C1",
          "RH_Out_M4_C2"
        ],
        "temperature": [
          "T_Bed2_M4_C5",
          "T_Bed3_M4_C6",
          "T_MBa_M5_C1",
          "T_Ba1_M5_C2",
          "T_UR_M5_C3",
          "T_Gar_M5_C4",
          "T_Attic_M5_C5",
          "T_Out_M5_C6"
        ]
      },
      "serial_numbers": {
        "X0630021": {"location": "MBa/Gar", "calibration_date": "2023-06-16"}
      },
      "status": "ACTIVE",
      "specifications": {
        "rh_range": "0.8-100% RH",
        "rh_accuracy_factory": "±1% RH at 20°C",
        "rh_accuracy_field": "±2% RH (0-90% RH), ±3% RH (90-100% RH)",
        "rh_long_term_stability": "better than 1% RH/year",
        "temp_range": "-39.2°C to +60°C",
        "temp_accuracy": "±0.2°C at 20°C"
      },
      "notes": [
        "Legacy sensors - planned replacement with HMP155.",
        "Used at secondary monitoring locations.",
        "11/21/25: Moved garage Vaisala to master bath; channel reassigned."
      ]
    }
    },

  "future_instruments": {
    "Thermocouple": {
      "description": "Type T Thermocouples via NI 9213 Module",
      "manufacturer": "Various",
      "model": "Type T Thermocouple",
      "measurement": "Temperature",
      "planned_daq_connection": "Module 8 (NI 9213) - NOT YET INSTALLED",
      "planned_variables": [
        "T_Bed1_M8_C0", "T_Bed2_M8_C1", "T_Bed3_M8_C2", "T_Liv_M8_C3",
        "T_Din_M8_C4", "T_Kit_M8_C5", "T_Fam_M8_C6", "T_MBa_M8_C7",
        "T_Ba1_M8_C8", "T_UR_M8_C9", "T_Gar_M8_C10", "T_Attic_M8_C11",
        "T_Out_M8_C12", "T_HVAC-S_M8_C13", "T_Crawl_M8_C14"
      ],
      "status": "PLANNED",
      "notes": [
        "Intended to replace/supplement Vaisala temperature measurements.",
        "NI 9213 is a 16-channel thermocouple input module.",
        "Module slot 8 currently OPEN."
      ]
    },
    "TSI_8455": {
      "description": "TSI Model 8455 Air Velocity Transducer",
      "manufacturer": "TSI",
      "model": "8455-12",
      "measurement": "Air Flow Velocity",
      "planned_daq_connection": "Module 6 (NI 9481 Relay) - NOT YET INSTALLED",
      "planned_variables": ["AF_HVAC-N_M6_C0", "AF_HVAC-S_M6_C1"],
      "status": "PLANNED",
      "notes": [
        "Possible future addition for HVAC airflow measurement.",
        "Module slot 6 currently OPEN."
      ]
    }
  },

  "common_files": {
    "log_file": "log_file.xlsx",
    "output_folder": "output",
    "co2_log_file": {
      "filename": "CO2_log_file.csv",
      "path": "Log - CO2 Injection",
      "description": "CO2 injection and mixing fan state-change log",
      "columns": ["datetime_EDT", "CO2", "mixing_fan"],
      "source_pattern": "MH_CO2andFanProgram_*.txt",
      "processing_script": "scripts/process_co2_log.py",
      "notes": [
        "Generated from daily 1-second log files.",
        "Contains only state-change timestamps (when valves turn on/off).",
        "Run processing script manually before analysis."
      ]
    },
    "shower_log_file": {
      "filename": "shower_log_file.csv",
      "path": "Log - Shower",
      "description": "Shower and bathroom fan state-change log",
      "columns": ["datetime_EDT", "shower", "bath_fan"],
      "source_pattern": "MH_ShowerProgram_*.txt",
      "processing_script": "scripts/process_shower_log.py",
      "notes": [
        "Generated from daily 1-second log files.",
        "Contains only state-change timestamps (when valves turn on/off).",
        "Run processing script manually before analysis."
      ]
    }
  },

  "daq_system": {
    "chassis": {
      "manufacturer": "National Instruments",
      "model": "cDAQ-9178",
      "slots": 8,
      "interface": "Hi-Speed USB 2.0",
      "power": "9-30 VDC, 15W max"
    },
    "installed_modules": {
      "Slot_1": {
        "model": "NI 9201",
        "type": "8-ch AI (±10V)",
        "sensor": "Setra_264",
        "status": "INSTALLED - Setras currently disconnected"
      },
      "Slot_2": {
        "model": "NI 9201",
        "type": "8-ch AI (±10V)",
        "sensor": "Setra_264 (CH0-2) + Reference (CH7)",
        "status": "INSTALLED - Setras currently disconnected"
      },
      "Slot_3": {
        "model": "NI 9201",
        "type": "8-ch AI (±10V)",
        "sensor": "Vaisala RH",
        "status": "INSTALLED"
      },
      "Slot_4": {
        "model": "NI 9201",
        "type": "8-ch AI (±10V)",
        "sensor": "Vaisala RH + T",
        "status": "INSTALLED"
      },
      "Slot_5": {
        "model": "NI 9201",
        "type": "8-ch AI (±10V)",
        "sensor": "Vaisala T",
        "status": "INSTALLED"
      },
      "Slot_6": {
        "model": null,
        "type": null,
        "sensor": null,
        "status": "OPEN - possible future NI 9481 relay module"
      },
      "Slot_7": {
        "model": null,
        "type": null,
        "sensor": null,
        "status": "OPEN"
      },
      "Slot_8": {
        "model": null,
        "type": null,
        "sensor": null,
        "status": "OPEN - possible future NI 9213 thermocouple module"
      }
    },
    "reference_channels": {
      "6V_Test_M2_C7": {
        "description": "6VDC lantern battery reference voltage",
        "purpose": "DAQ AD converter monitoring - constant voltage to detect drift or failure",
        "location": "Gray plastic 6x6 junction box to right of DAQ rack",
        "notes": "Suggested by Vance Payne (NIST) - voltage will be consistent for years"
      }
    },
    "notes": [
      "Currently only 5 modules installed (all NI 9201 8-channel AI).",
      "Slots 6, 7, 8 are OPEN for future expansion.",
      "Updated 12/31/25 per MH_cDAQ_channels_MAP_and_wiring_notes."
    ]
  },

  "data_file_analysis": {
    "indoor_data": {
      "file_pattern": "*Daily_MHIndoor_Data.txt",
      "columns": 42,
      "active_sensors": ["Vaisala_HMP155", "Vaisala_HMP45A"],
      "disconnected_sensors": ["Setra_264"],
      "notes": "Setra channels present in file but sensors disconnected"
    },
    "outdoor_data": {
      "file_pattern": "*Daily_MHOutdoor_Data.txt",
      "columns": 7,
      "active_sensors": ["AIO2"],
      "active_channels": 5
    }
  }
}
